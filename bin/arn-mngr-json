#!/usr/bin/lua
-- ARN Device Manager (JSON)
-- Filter all invalid value, replace with valid value
-- read limits from "/etc/arn-spec"
-- by Qige <qigezhao@gmail.com>

--local DBG = print
local function DBG(msg) end

local mngr = require 'arn.mngr'

local arg1 = tostring(arg[1]) -- nil > 'nil'

local function help()
    print "usage: "
    print "  arn-mngr-json [a|all]"
end

if (arg1 ~= 'nil') then
    DBG(string.format("> %s", arg1))
    local result = mngr.SAFE_GET_JSON(arg1) or ''
    print(result)
else
    help()
end